<!DOCTYPE html>
<html>
    <head>
        <title>Weather Website</title>
        <link rel="stylesheet" href="style3.css">
    </head>
    <body class="bg-image">
        <div class="card">
          <div class="search">
            <input type="text" placeholder="Enter the city name" spellcheck="false">
            <button><img src="search.png"></button>
        </div>
            <div class="error">
              <p>Invalid City name</p>
          </div>

            <div class="weather">
                <img src="./rain.png" class="weather-icon">
                <h1 class="temp" id="temp">22°c</h1>
                <h2 class="city" id="weather">New York</h2>
            
            <div class="details">
                <div class="col">
                    <img src="./humidity.png">
                    <div>
                        <p class="humidity">50%</p>
                        <p>Humidity</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./wind.png">
                    <div>
                        <p class="wind" id="wind">15 Km/h</p>
                        <p>wind Speed</p>
                    </div>
                </div>
            </div>
            <br><br>
            <div class="place">
                <!-- <input type="text" placeholder="enter your place"
               id="placename" spellcheck="false"> -->
               <!--<label for="placename">Choose a place to visit:</label> -->
               
                 <select name="cars" id="placename">
                <option value="Shetty">Shettihalli Church</option>
                <option value="shravana">Shravana Belagula</option>
                <option value="gorur">Gorur Dam</option>
</select>
                <button type="button" id="button1">find</button>
            </div>
        </div>
        
    </div>
        
       
<script>
    

    const apiKey="68e8aeafec3c800fe59953f2b0e67eaf";
    const apiUrl="https://api.openweathermap.org/data/2.5/weather?q=hassan&appid=68e8aeafec3c800fe59953f2b0e67eaf&units=metric";
    const searchBox=document.querySelector(".search input")
    const searchBtn=document.querySelector(".search button")
    const weatherIcon=document.querySelector(".weather-icon")

    async function checkWeater(city){

      
const response=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=68e8aeafec3c800fe59953f2b0e67eaf&units=metric`)
var data=await response.json();
if(response.status==404){
    document.querySelector(".error").style.display="block";
    document.querySelector(".weather").style.display="none";

}
else{
    document.querySelector(".city").innerHTML=data.name;
document.querySelector(".temp").innerHTML=Math.round(data.main.temp)+"°c";
document.querySelector(".humidity").innerHTML=data.main.humidity+"%";
document.querySelector(".wind").innerHTML=data.wind.speed+ "Km/h";


if(data.weather[0].main=="Clouds")
{
    weatherIcon.src="./clouds.png";
    
}
else if(data.weather[0].main=="Clear"){
    weatherIcon.src="./clear.png";
}
else if(data.weather[0].main=="Rain"){
    weatherIcon.src="./rain.png";
}
else if(data.weather[0].main=="Drizzle"){
    weatherIcon.src="./drizzle.png";
}
else if(data.weather[0].main=="Mist"){
    weatherIcon.src="./mist.png";
}

document.querySelector(".weather").style.display="block";
document.querySelector(".error").style.display="none";

}


}

searchBtn.addEventListener('click',function(){
checkWeater(searchBox.value)
document.querySelector('.card').style.margin="100px auto 0";
})
   
    document.getElementById('button1').addEventListener('click', function() {
                         // Redirect to another page when the button is clicked
    //var stored=document.getElementById("placename").value; 
        var input=document.getElementById('placename').value; 
                         if(input=='Shetty'){
                           
                           window.location.href = 'shettyhalli_church.html';
                         }
                         else if(input=='shravana'){
            
                           window.location.href = 'shravana.html';
                         }                          
                         else if(input=='gorur'){
                         
                          window.location.href = 'goruor.html';
                        }
                     });
                                 
        </script>
</body>
</html>